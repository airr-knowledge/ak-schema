---
id: https://github.com/airr-knowledge/ak-schema
name: ak-schema

classes:

# abstract ontology table
# subclass for specific ontologies and define slot_usage for the IDs
  OntologyTable:
    abstract: true
    description: standard schema for an ontology table
    slots:
      - term_id
      - term_label
      - parent

  BiomedicalInvestigations:
    is_a: OntologyTable
    slot_usage:
# BUG: linkml is not recognizing term_id range as an enum, which creates
# invalid python dataclasses code. We leave with default range for now.
#      term_id:
#        range: BiomedicalInvestigationsOntology
      parent:
        range: BiomedicalInvestigations

  PhenotypeAndTraits:
    is_a: OntologyTable
    slot_usage:
#      term_id:
#        range: BiologicalSexOntology
      parent:
        range: PhenotypeAndTraits

  Diseases:
    is_a: OntologyTable
    slot_usage:
#      term_id:
#        range: DiseaseDiagnosisOntology # defined by AIRR
      parent:
        range: Diseases

  Cells:
    is_a: OntologyTable
    slot_usage:
#      term_id:
#        range: CellSubsetOntology # defined by AIRR
      parent:
        range: Cells

  UberAnatomy:
    is_a: OntologyTable
    slot_usage:
#      term_id:
#        range: TissueOntology # defined by AIRR
      parent:
        range: UberAnatomy

# TODO: this might need some refined to be more specific for time and quantity units
  Units:
    is_a: OntologyTable
    slot_usage:
#      term_id:
#        range: UnitOntology
      parent:
        range: Units

slots:
  term_id:
    description: ontology term ID
    identifier: true
    required: true
    range: uriorcurie
  term_label:
    description: ontology term descriptive label
    range: string
  parent:
    description: parent term ID for ontology term
    range: OntologyTable
    multivalued: true
    required: false

# all the dynamic enum based ontologies
enums:
  BiomedicalInvestigationsOntology:
    name: BiomedicalInvestigationsOntology
    reachable_from:
      source_nodes:
        - OBI:0500000
      include_self: false
      relationship_types:
        - rdfs:subClassOf

  BiologicalSexOntology:
    name: BiologicalSexOntology
    reachable_from:
      source_nodes:
        - PATO:0020000
      include_self: true
      relationship_types:
        - rdfs:subClassOf

  LifeEventProcessOntology:
    name: LifeEventProcessOntology
    reachable_from:
      source_nodes:
        - BFO:0000015 # process
      include_self: true
      relationship_types:
        - rdfs:subClassOf

  ExposureMaterialOntology:
    name: ExposureMaterialOntology
    reachable_from:
      source_nodes:
        - NCBITAXON:7776
      include_self: true
      relationship_types:
        - rdfs:subClassOf

  UnitOntology:
    name: UnitOntology
    reachable_from:
      source_nodes:
        - UO:0000000
      include_self: true
      relationship_types:
        - rdfs:subClassOf
